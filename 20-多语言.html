

    <div class="content with-sidebar">
        <h1 data-id="151" data-eid="V4v5">
        多语言    </h1>
    
    <p>在FastAdmin中可以在任何位置(控制器、视图、JS)使用<code>__('语言标识');</code>调用语言包，如果语言标识不存在，则直接输出该语言标识。</p><h2 id="使用方法-1">使用方法</h2><p>FastAdmin中的<code>__</code>函数和ThinkPHP中的<code>lang</code>函数在传参上有些许区别</p><p>比如</p><pre title=""><code class="language-php">__('My name is %s', &quot;FastAdmin&quot;);</code></pre><p>将会返回</p><pre title=""><code>My name is FastAdmin</code></pre><p>而如果采用ThinkPHP中的lang中的写法则是</p><pre title=""><code class="language-php">lang('My name is %s', [&quot;FastAdmin&quot;]);</code></pre><p>可以看到ThinkPHP中的第二个参数必须传入数组，而FastAdmin中的__则没有这个要求，其实在多个参数时FastAdmin会忽略掉第三个参数$lang<br>比如</p><pre title=""><code class="language-php">__('This is %s,base on %s', 'FastAdmin', 'ThinkPHP5');</code></pre><p>则会返回</p><pre title=""><code>This is FastAdmin,base on ThinkPHP5</code></pre><p>而采用lang的写法则是</p><pre title=""><code class="language-php">lang('This is %s,base on %s', ['FastAdmin', 'ThinkPHP5']);</code></pre><p>因此如果要使第三个参数$lang生效，则只能将第二个参数传为数组或采用ThinkPHP中的lang函数</p><p>如果需要在HTML视图文件中使用多语言，则需要使用<code>{:__('Home')}</code>的方式调用，而在PHP和JS中均可以使用<code>__('Home')</code>的方式发起调用。</p><p>如果我们调用的多语言不存在，则会原样输出字符。例如我们调用<code>__('Undefined')</code>，则会原样输出<code>Undefined</code>字符。</p><h2 id="加载方式-2">加载方式</h2><p>在FastAdmin当中，框架会自动按照当前请求的控制器进行加载对应的语言包。例如当前我们是中文环境，如果我们请求的是</p><pre title=""><code>https://demo.fastadmin.net/admin/dashboard/index</code></pre><p>则FastAdmin会自动加载</p><pre title=""><code>application/admin/lang/zh-cn.php
application/admin/lang/zh-cn/Dashboard.php</code></pre><p>这两个语言包</p><p>如果我们请求的路径是</p><pre title=""><code>https://demo.fastadmin.net/admin/general/config/index</code></pre><p>则FastAdmin会自动加载</p><pre title=""><code>application/admin/lang/zh-cn.php
application/admin/lang/zh-cn/general/Config.php</code></pre><p>这两个语言包</p><p>可以看到FastAdmin会默认加载<code>zh-cn.php</code>这个全局语言包。</p><p>如果我们需要跨模块引入其它模块的语言包，则可以在 控制器中使用loadlang方法来引入，如</p><pre title=""><code class="language-php">$this-&gt;loadlang('模块名');</code></pre><p>如果需要在JS中跨模块引入语言包，则需要修改<code>Ajax.php</code>中的<code>lang</code>这个方法。</p><h2 id="常见问题-3">常见问题</h2><ol><li>语言包定义是不区分大小写的。</li><li>如果JS中对应语言包不生效，请检查服务端返回的语言包是否有错误。</li><li>如果你不希望启用多语言，则可以在<code>application/config.php</code>中关闭和设置默认语言，修改<code>lang_switch_on</code>为<code>false</code>即可。</li></ol>
    <div class="date text-muted" style="margin-top:10px;">文档最后更新时间：2023-12-14 21:21:53</div>
    <div class="copyrights text-muted" style="margin-top:10px;">著作权归应用插件开发者所有，未经许可，禁止转载、复制此文档的任何内容。</div>

        <div class="docs-links">
        <!--@formatter:off-->
                    <span>← <a href="https://doc.fastadmin.net/doc/165.html" data-id="165">其他命令</a></span>
                        <span style="float:right"><a href="https://doc.fastadmin.net/doc/database.html" data-id="152">数据库</a> →</span>
                    <!--@formatter:on-->
    </div>
    
    