

    <div class="content with-sidebar">
        <h1 data-id="180" data-eid="V4v5">
        城市选择    </h1>
    
    <p>FastAdmin中集成了强大的<code>city-picker</code>城市选择插件，可以很方便的选择省份和城市。</p><h3 id="常规示例-1">常规示例</h3><p>我们只需要简单的为input元素添加一个<code>data-toggle=&quot;city-picker&quot;</code>属性即可自动渲染相应的城市选择组件，如下：</p><pre title=""><code class="language-html">&lt;div class='control-relative'&gt;
    &lt;input id=&quot;c-city&quot; class=&quot;form-control&quot; data-toggle=&quot;city-picker&quot; name=&quot;row[city]&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;
&lt;/div&gt;</code></pre><h3 id="常用属性-2">常用属性</h3><p>我们还可以通过添加以下属性来扩展城市选择组件的功能</p><table><thead><tr><th>属性</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>data-level</td><td>选择城市的级别，支持province/city/district，默认为district</td><td>data-level="city"</td></tr><tr><td>data-simple</td><td>使用简单的地址，比如使用内蒙古替代内蒙古自治区，默认为false</td><td>data-simple="true"</td></tr><tr><td>data-responsive</td><td>是否为自适应，默认为false</td><td>data-responsive="true"</td></tr><tr><td>placeholder</td><td>默认提示的文字</td><td>placeholder="请选择省/市"</td></tr></tbody></table><h3 id="事件捕获-3">事件捕获</h3><p><code>city-picker</code>组件默认选择后渲染的是中文城市信息，我们可以通过在JS中监听<code>city-picker</code>更新后的事件来获取省份城市地区对应的code值。代码如下：</p><pre title=""><code class="language-js">$(&quot;#city-picker&quot;).on(&quot;cp:updated&quot;, function() {
  var citypicker = $(this).data(&quot;citypicker&quot;);
  var code = citypicker.getCode(&quot;district&quot;) || citypicker.getCode(&quot;city&quot;) || citypicker.getCode(&quot;province&quot;);
  $(&quot;#code&quot;).val(code);
});</code></pre><p>如果我们数据库中存放的是地区的<code>code</code>值，在显示时我们则需要把对应的<code>code</code>通过读取数据库转换成我们的地区中文，然后再设定<code>input</code>的<code>value</code>值即可。</p><h3 id="数据源-4">数据源</h3><p>该组件数据源使用本地数据源，数据源位于<code>public/assets/libs/fastadmin-citypicker/dist/js/city-picker.data.js</code></p><blockquote>更多的使用方法请参考<a  href="https://www.fastadmin.net/outlink.html?url=https%3A%2F%2Fgithub.com%2Ftshi0912%2Fcity-picker"  target="_blank"  rel="nofollow">city-picker官方教程</a></blockquote>
    <div class="date text-muted" style="margin-top:10px;">文档最后更新时间：2023-07-31 08:12:06</div>
    <div class="copyrights text-muted" style="margin-top:10px;">著作权归应用插件开发者所有，未经许可，禁止转载、复制此文档的任何内容。</div>

        <div class="docs-links">
        <!--@formatter:off-->
                    <span>← <a href="https://doc.fastadmin.net/doc/179.html" data-id="179">表单验证</a></span>
                        <span style="float:right"><a href="https://doc.fastadmin.net/doc/181.html" data-id="181">日期时间</a> →</span>
                    <!--@formatter:on-->
    </div>
    
    