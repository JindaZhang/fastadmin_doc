

    <div class="content with-sidebar">
        <h1 data-id="152" data-eid="V4v5">
        数据库    </h1>
    
    <p>这里提供的是数据库表字段规则在你创建表时使用，当按如下的规则进行字段命名、类型设置和备注时<br>使用<code>php think crud -t 表名</code>生成CRUD时会自动生成对应的控制器、模型、视图、JS等。</p><h2 id="根据字段类型-1">根据字段类型</h2><table><thead><tr><th>类型</th><th>备注</th><th>类型说明</th></tr></thead><tbody><tr><td>int</td><td>整型</td><td>自动生成type为number的文本框，步长为1</td></tr><tr><td>enum</td><td>枚举型</td><td>自动生成单选下拉列表框</td></tr><tr><td>set</td><td>set型</td><td>自动生成多选下拉列表框</td></tr><tr><td>float</td><td>浮点型</td><td>自动生成type为number的文本框，步长根据小数点位数生成</td></tr><tr><td>text</td><td>文本型</td><td>自动生成textarea文本框</td></tr><tr><td>datetime</td><td>日期时间</td><td>自动生成日期时间的组件</td></tr><tr><td>date</td><td>日期型</td><td>自动生成日期型的组件</td></tr><tr><td>timestamp</td><td>时间戳</td><td>自动生成日期时间的组件</td></tr><tr><td>varchar</td><td>字符串</td><td>当字符串长度定义大于等于255时，将自动在列表启用<code>autocontent</code>，仅支持FastAdmin1.4.0+</td></tr></tbody></table><h2 id="特殊字段-2">特殊字段</h2><table><thead><tr><th>字段</th><th>字段名称</th><th>字段类型</th><th>字段说明</th></tr></thead><tbody><tr><td>user_id</td><td>会员ID</td><td>int</td><td>将生成选择会员的SelectPage组件，单选</td></tr><tr><td>user_ids</td><td>会员ID集合</td><td>varchar</td><td>将生成选择会员的SelectPage组件，多选</td></tr><tr><td>admin_id</td><td>管理员ID</td><td>int</td><td>将生成选择管理员的SelectPage组件</td></tr><tr><td>admin_ids</td><td>管理员ID集合</td><td>varchar</td><td>将生成选择管理员的SelectPage组件，多选</td></tr><tr><td>category_id</td><td>分类ID</td><td>int</td><td>将生成选择分类的下拉框，分类类型根据去掉前缀的表名，单选</td></tr><tr><td>category_ids</td><td>分类ID集合</td><td>varchar</td><td>将生成选择分类的下拉框，分类类型根据去掉前缀的表名，多选</td></tr><tr><td>weigh</td><td>权重</td><td>int</td><td>后台的排序字段，如果存在该字段将出现排序按钮，可上下拖动进行排序</td></tr><tr><td>createtime</td><td>创建时间</td><td>bigint/datetime</td><td>记录添加时间字段，不需要手动维护</td></tr><tr><td>updatetime</td><td>更新时间</td><td>bigint/datetime</td><td>记录更新时间的字段，不需要手动维护</td></tr><tr><td>deletetime</td><td>删除时间</td><td>bigint/datetime</td><td>记录删除时间的字段，不需要手动维护，如果存在此字段将会生成回收站功能，字段默认值务必为<code>null</code></td></tr><tr><td>status</td><td>状态字段</td><td>enum</td><td>列表筛选字段，如果存在此字段将启用TAB选项卡展示列表</td></tr></tbody></table><h2 id="以特殊字符结尾的规则-3">以特殊字符结尾的规则</h2><table><thead><tr><th>结尾字符</th><th>示例</th><th>类型要求</th><th>字段说明</th></tr></thead><tbody><tr><td>time</td><td>refreshtime</td><td>bigint/datetime</td><td>识别为日期时间型数据，自动创建选择时间的组件</td></tr><tr><td>image</td><td>smallimage</td><td>varchar</td><td>识别为图片文件，自动生成可上传图片的组件，单图</td></tr><tr><td>images</td><td>smallimages</td><td>varchar</td><td>识别为图片文件，自动生成可上传图片的组件，多图</td></tr><tr><td>file</td><td>attachfile</td><td>varchar</td><td>识别为普通文件，自动生成可上传文件的组件，单文件</td></tr><tr><td>files</td><td>attachfiles</td><td>varchar</td><td>识别为普通文件，自动生成可上传文件的组件，多文件</td></tr><tr><td>avatar</td><td>miniavatar</td><td>varchar</td><td>识别为头像，自动生成可上传图片的组件，单图</td></tr><tr><td>avatars</td><td>miniavatars</td><td>varchar</td><td>识别为头像，自动生成可上传图片的组件，多图</td></tr><tr><td>content</td><td>maincontent</td><td>text/mediumtext/longtext</td><td>识别为内容，自动生成富文本编辑器(需安装富文本插件)</td></tr><tr><td>_id</td><td>user_id</td><td>int/varchar</td><td>识别为关联字段，自动生成可自动完成的文本框，单选</td></tr><tr><td>_ids</td><td>user_ids</td><td>varchar</td><td>识别为关联字段，自动生成可自动完成的文本框，多选</td></tr><tr><td>list</td><td>timelist</td><td>enum</td><td>识别为列表字段，自动生成单选下拉列表</td></tr><tr><td>list</td><td>timelist</td><td>set</td><td>识别为列表字段，自动生成多选下拉列表</td></tr><tr><td>data</td><td>hobbydata</td><td>enum</td><td>识别为选项字段，自动生成单选框</td></tr><tr><td>data</td><td>hobbydata</td><td>set</td><td>识别为选项字段，自动生成复选框</td></tr><tr><td>json</td><td>configjson</td><td>varchar</td><td>识别为键值组件，自动生成键值录入组件，仅支持1.2.0+</td></tr><tr><td>switch</td><td>siteswitch</td><td>tinyint</td><td>识别为开关字段，自动生成开关组件，默认值<code>1</code>为<code>开</code>，<code>0</code>为<code>关</code>，仅支持FastAdmin 1.2.0+</td></tr><tr><td>range</td><td>daterange</td><td>varchar</td><td>识别为时间区间组件，自动生成时间区间组件，仅支持FastAdmin 1.3.0+</td></tr><tr><td>tag</td><td>articletag</td><td>varchar</td><td>识别为Tagsinput，自动生成标签输入组件，仅支持FastAdmin 1.3.0+</td></tr><tr><td>tags</td><td>articletags</td><td>varchar</td><td>识别为Tagsinput，自动生成标签输入组件，仅支持FastAdmin 1.3.0+</td></tr></tbody></table><blockquote>温馨提示：以list或data结尾的字段必须搭配enum或set类型才起作用 <br>如果为多图或多列表字段，请务必确保字段长度足够</blockquote><h2 id="注释说明-4">注释说明</h2><table><thead><tr><th>字段</th><th>注释内容</th><th>字段类型</th><th>字段说明</th></tr></thead><tbody><tr><td>status</td><td>状态</td><td>int</td><td>将生成普通语言包和普通文本框</td></tr><tr><td>status</td><td>状态</td><td>enum(‘0’,’1’,’2’)</td><td>将生成普通语言包和单选下拉列表，同时生成TAB选项卡</td></tr><tr><td>status</td><td>状态:0=隐藏,1=正常,2=推荐</td><td>enum(‘0’,’1’,’2’)</td><td>将生成多个语言包和单选下拉列表，同时生成TAB选项卡,且列表中的值显示为对应的文字##</td></tr></tbody></table><h2 id="常见问题-5">常见问题</h2><ol><li>如果使用<code>php think crud</code>生成过表的CRUD，当修改了表结构类型或新增了字段，此时只有重新生成CRUD或自己手动修改视图文件和JS文件。</li><li>如果你的表需要生成关联模型，建议你在设计表时遵循以下规范，<code>category_id</code>字段关联对应<code>fa_category</code>表主键，<code>company_info_id</code>关联对应<code>fa_company_info</code>表主键。</li><li>如果字段名为<code>user_id</code>，生成的动态下拉列表会自动匹配<code>user/index</code>这个控制器方法，如果你发现CRUD后无法显示关联数据列表，请检查视图中元素<code>data-source</code>的值是否正确。</li><li>当设定数据库字段不能为<code>NULL</code>时，表单会自动追加必选<code>required</code>验证。</li></ol>
    <div class="date text-muted" style="margin-top:10px;">文档最后更新时间：2023-12-14 21:21:53</div>
    <div class="copyrights text-muted" style="margin-top:10px;">著作权归应用插件开发者所有，未经许可，禁止转载、复制此文档的任何内容。</div>

        <div class="docs-links">
        <!--@formatter:off-->
                    <span>← <a href="https://doc.fastadmin.net/doc/language.html" data-id="151">多语言</a></span>
                        <span style="float:right"><a href="https://doc.fastadmin.net/doc/controller.html" data-id="153">控制器</a> →</span>
                    <!--@formatter:on-->
    </div>
    
    